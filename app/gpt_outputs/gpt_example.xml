<?xml version="1.0" encoding="UTF-8"?>
<TaskTemplate xmlns="https://robotics.ucmerced.edu/task"
              xmlns:xs="http://www.w3.org/2001/XMLSchema-instance">
    <CompositeTaskInformation>
        <TaskID>OrchardInspection</TaskID>
        <TaskDescription>Take thermal pictures of every other pistachio tree in the orchard.</TaskDescription>
    </CompositeTaskInformation>
    <Preconditions>
        <Precondition>
            <Condition>atStartingPoint</Condition>
        </Precondition>
        <Precondition>
            <Condition>batteryFull</Condition>
        </Precondition>
    </Preconditions>
    <AtomicTasks>
        <AtomicTask>
            <TaskID>MoveToStart</TaskID>
            <TaskDescription>Move to the starting point of the orchard.</TaskDescription>
            <Action>
                <Action>
                    <ActionType>moveToLocation</ActionType>
                    <moveToLocation>
                        <Latitude>37.266444</Latitude>
                        <Longitude>-120.4201616</Longitude>
                    </moveToLocation>
                </Action>
            </Action>
            <Parameters/>
        </AtomicTask>
        <AtomicTask>
            <TaskID>TakePicture1</TaskID>
            <TaskDescription>Take a thermal picture of the first pistachio tree.</TaskDescription>
            <Action>
                <Action>
                    <ActionType>takeThermalPicture</ActionType>
                    <takeThermalPicture>
                        <PictureQuality>High</PictureQuality>
                    </takeThermalPicture>
                </Action>
            </Action>
            <Parameters/>
            <Preconditions>
                <Precondition>
                    <Condition>atStartingPoint</Condition>
                </Precondition>
            </Preconditions>
        </AtomicTask>
        <AtomicTask>
            <TaskID>MoveToNext1</TaskID>
            <TaskDescription>Move to the location of the second pistachio tree.</TaskDescription>
            <Action>
                <Action>
                    <ActionType>moveToLocation</ActionType>
                    <moveToLocation>
                        <Latitude>37.2663688</Latitude>
                        <Longitude>-120.4201605</Longitude>
                    </moveToLocation>
                </Action>
            </Action>
            <Parameters/>
        </AtomicTask>
        <AtomicTask>
            <TaskID>TakePicture2</TaskID>
            <TaskDescription>Take a thermal picture of the second pistachio tree.</TaskDescription>
            <Action>
                <Action>
                    <ActionType>takeThermalPicture</ActionType>
                    <takeThermalPicture>
                        <PictureQuality>High</PictureQuality>
                    </takeThermalPicture>
                </Action>
            </Action>
            <Parameters/>
        </AtomicTask>
        <AtomicTask>
            <TaskID>MoveToNext2</TaskID>
            <TaskDescription>Move to the location of the fourth pistachio tree.</TaskDescription>
            <Action>
                <Action>
                    <ActionType>moveToLocation</ActionType>
                    <moveToLocation>
                        <Latitude>37.2662902</Latitude>
                        <Longitude>-120.4201626</Longitude>
                    </moveToLocation>
                </Action>
            </Action>
            <Parameters/>
        </AtomicTask>
        <AtomicTask>
            <TaskID>TakePicture4</TaskID>
            <TaskDescription>Take a thermal picture of the fourth pistachio tree.</TaskDescription>
            <Action>
                <Action>
                    <ActionType>takeThermalPicture</ActionType>
                    <takeThermalPicture>
                        <PictureQuality>High</PictureQuality>
                    </takeThermalPicture>
                </Action>
            </Action>
            <Parameters/>
        </AtomicTask>
        <AtomicTask>
            <TaskID>MoveToNext3</TaskID>
            <TaskDescription>Move to the location of the sixth pistachio tree.</TaskDescription>
            <Action>
                <Action>
                    <ActionType>moveToLocation</ActionType>
                    <moveToLocation>
                        <Latitude>37.2662116</Latitude>
                        <Longitude>-120.4201602</Longitude>
                    </moveToLocation>
                </Action>
            </Action>
            <Parameters/>
        </AtomicTask>
        <AtomicTask>
            <TaskID>TakePicture6</TaskID>
            <TaskDescription>Take a thermal picture of the sixth pistachio tree.</TaskDescription>
            <Action>
                <Action>
                    <ActionType>takeThermalPicture</ActionType>
                    <takeThermalPicture>
                        <PictureQuality>High</PictureQuality>
                    </takeThermalPicture>
                </Action>
            </Action>
            <Parameters/>
        </AtomicTask>
        <AtomicTask>
            <TaskID>MoveToNext4</TaskID>
            <TaskDescription>Move to the location of the eighth pistachio tree.</TaskDescription>
            <Action>
                <Action>
                    <ActionType>moveToLocation</ActionType>
                    <moveToLocation>
                        <Latitude>37.266139</Latitude>
                        <Longitude>-120.4201578</Longitude>
                    </moveToLocation>
                </Action>
            </Action>
            <Parameters/>
        </AtomicTask>
        <AtomicTask>
            <TaskID>TakePicture8</TaskID>
            <TaskDescription>Take a thermal picture of the eighth pistachio tree.</TaskDescription>
            <Action>
                <Action>
                    <ActionType>takeThermalPicture</ActionType>
                    <takeThermalPicture>
                        <PictureQuality>High</PictureQuality>
                    </takeThermalPicture>
                </Action>
            </Action>
            <Parameters/>
        </AtomicTask>
        <AtomicTask>
            <TaskID>MoveToEnd</TaskID>
            <TaskDescription>Move to the end point of the orchard.</TaskDescription>
            <Action>
                <Action>
                    <ActionType>moveToLocation</ActionType>
                    <moveToLocation>
                        <Latitude>37.2660953</Latitude>
                        <Longitude>-120.4201552</Longitude>
                    </moveToLocation>
                </Action>
            </Action>
            <Parameters/>
        </AtomicTask>
    </AtomicTasks>
    <ControlConstruct>
        <ConstructType>Sequence</ConstructType>
        <Sequence>
            <TaskID>MoveToStart</TaskID>
            <TaskID>TakePicture1</TaskID>
            <TaskID>MoveToNext1</TaskID>
            <TaskID>TakePicture2</TaskID>
            <TaskID>MoveToNext2</TaskID>
            <TaskID>TakePicture4</TaskID>
            <TaskID>MoveToNext3</TaskID>
            <TaskID>TakePicture6</TaskID>
            <TaskID>MoveToNext4</TaskID>
            <TaskID>TakePicture8</TaskID>
            <TaskID>MoveToEnd</TaskID>
        </Sequence>
    </ControlConstruct>
    <Outcome>
        <State>atEndPoint</State>
        <State>batteryLow</State>
    </Outcome>
    <Exits>
        <Exit>
            <Type>nominal</Type>
        </Exit>
        <Exit>
            <Type>faulted</Type>
        </Exit>
    </Exits>
</TaskTemplate>
